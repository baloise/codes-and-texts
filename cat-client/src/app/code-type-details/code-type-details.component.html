<div class="card my-5">
  <div class="card-body">
    <h2>
      <app-inline-edit [disabled]="!!id" [editing]="!id" [(ngModel)]="codeType.name"></app-inline-edit>
      <sub>(#{{id}},
        <app-inline-edit type="text" [(ngModel)]="codeType.prefix"></app-inline-edit>
        )</sub>
    </h2>

    <div class="form-group">
      <button routerLink="/codetypes" class="btn">&lt;&lt; back</button>
      <button *ngIf="!id" (click)="addCodeType()">
        <fa-icon [icon]="['fas', 'save']"></fa-icon>
      </button>
    </div>

    <table class="table table-bordered table-striped" *ngIf="!!id">
      <thead class="thead-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Value</th>
        <th scope="col"></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let cv of codeType?.codeValues">
        <td>{{ cv.id }}</td>
        <td>{{ cv.name }}</td>
        <td>{{ cv.value }}</td>
        <td>
          <fa-icon [icon]="['fas', 'edit']"></fa-icon>
        </td>
      </tr>
      <tr>
        <td colspan="4">
          <button class="btn" (click)="addCodeValue()">
            <fa-icon [icon]="['fas', 'plus']"></fa-icon>
            Add new
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
